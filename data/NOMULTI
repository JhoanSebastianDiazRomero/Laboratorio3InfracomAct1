;;; project pharo by hd.castellanos;;;VARS(var chips := [50])(var CandyBars := [100])(var sodas:= [60])(var water := [10])(var  DollarBills := [500])(var quarters := [5000])(var dimes:= [5000])(var nickels := [5000])(var Ingresado :=[0] )(var valorPagar :=[0])(var ChipsSelected:=[false])(var CandySelected:=[false])(var SodaSelected:=[false])(var WaterSelected:=[false])(var Vueltas:=[0])(var  DollarUs:=[0]) (var QuarterUs:=[0])(var DimeUs:=[0])(var NickelUs:=[0])(var DollarMac:=[0])(var QuarterMac:=[0])(var DimeMac:=[0])(var NickelMac:=[0])(machine project;;; Estados(state start(onentry[Vueltas:=0. DollarMac:=0. QuarterMac:=0. DimeMac:=0. NickelMac:=0. DollarUs:=0. QuarterUs:=0. DimeUs:=0. NickelUs:=0]))(state Chips(onentry[valorPagar:= 2])(onexit[chips:=chips-1]) )(state CandyBar(onentry[valorPagar:=2.5])(onexit[CandyBars:=CandyBars-1]) )(state Soda(onentry[valorPagar:=2.75])(onexit[sodas:=sodas-1]) )(state Water(onentry[valorPagar:=3.60])(onexit[water:=water-1]) )(state pagando(onexit[Ingresado:=(DollarUs*1)+(QuarterUs*0.25)+(DimeUs*0.1)+(NickelUs*0.05)]))(state darVueltas(onentry[Vueltas:=Ingresado-valorPagar])(onexit[DollarMac:= (Vueltas-(Vueltas%1)). DimeMac:=(((Vueltas%1)%0.25)*10). QuarterMac:=((Vueltas%1)-((Vueltas%1)%0.25))/0.25]))(state EntregarProducto(onentry[DollarBills:=DollarBills-DollarMac. dimes:=dimes-DimeMac. quarters:=quarters-QuarterMac. nickels:=nickels-NickelMac])(onexit[ChipsSelected:=false.CandySelected:=false.SodaSelected:=false.WaterSelected:=false.Ingresado:=0.valorPagar:=0 ]));;;Eventos(event ChipsSelected [ChipsSelected=true])(event CandySelected [CandySelected=true])(event SodaSelected [SodaSelected=true])(event WaterSelected [WaterSelected=true]);;;Transiciones(on ChipsSelected start-> Chips)(on CandySelected start-> CandyBar)(on SodaSelected start-> Soda)(on WaterSelected start-> Water)(ontime 1000 Water->pagando )(ontime 1000 CandyBar->pagando )(ontime 1000 Soda->pagando )(ontime 1000 Chips->pagando )(ontime 15000 pagando->darVueltas )(ontime 1000 darVueltas->EntregarProducto )(ontime 1000 EntregarProducto->start ))(spawn project  start )